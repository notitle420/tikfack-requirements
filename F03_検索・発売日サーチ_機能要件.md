# F03 検索・発売日サーチ 機能要件

## 1. 目的
- ユーザーが求める動画を効率的に見つけられるよう、発売日別の簡易サーチを提供する。
- ログイン/ゲスト双方の利用を想定し、視聴導線と外部サービス遷移を支援する。

## 2. 対象範囲・前提
- 入場（年齢確認）済みであること（F01）。
- 発売日別サーチはログイン/ゲストともに利用可能。
- 取得するメタ情報はタイトル・出演者・発売日を必須表示。
- データソースはDMM API。ページネーション情報も受け取り、縦スクロールUIと連携する。

## 3. 機能概要
- 発売日別簡易サーチ: 「今日発売」「明日発売」「近日発売（期間は設計で決定）」などのショートカット検索を提供。
- 画面初期表示は当日発売の動画を自動取得して表示する。
- 縦スクロールUIで結果を表示し、ページ末尾で次ページを自動取得。結果が尽きたら終了メッセージを表示。
- 視聴ログとの連携: 検索経由で再生した動画も視聴ログ（F02）に含める。
- カード表示: タイトル、出演者、発売日、外部サービス遷移リンクを各カードに表示し、動画再生（F02）への導線も設ける。

## 4. 詳細要件
- 発売日別簡易サーチ
  - プリセット: 今日発売、明日発売、近日発売（例: 7日以内）。期間は設計で調整可能。
  - デフォルト表示: 画面初期表示は「今日発売」の結果を自動取得して表示する。
  - 日付移動: 画面左上に「前日」、右上に「翌日」ボタンを配置する。前日ボタンで前日の発売動画を取得、翌日ボタンで翌日の発売動画を取得し表示する。日付切替に伴い表示中の日付を更新する。
  - 各プリセットは1クリックで検索を発行し、縦スクロールで結果を表示。
  - 結果が尽きた場合は「該当する動画がなくなりました」を表示。
- ページネーション
  - 検索結果はページ単位で取得し、末尾到達時に次ページ有無をチェック。存在すれば自動ロード。
  - 次ページがない場合は終了メッセージを表示し、無限ループしないようにする。
- 入力パラメータ
  - ページ番号やプリセット種別などの条件は API へ渡し、検索条件に合致するデータを取得する。
- ロギング
  - 検索クエリ、プリセット種別、結果件数、エラーをイベントとして保存可能とする（匿名IDまたはユーザーID紐付け）。

## 5. 入出力
- 入力: 発売日プリセット選択、スクロール操作、前日/翌日ボタン操作。
- 出力: 検索結果リスト（メタ情報、サンプル動画URL、ページネーション情報）、終了メッセージ、検索イベントログ。

## 6. 関連
- F02 縦スクロール視聴・レコメンド: 検索結果表示・再生に同UIを利用。
- F04 マイページ・お気に入り管理: 検索結果からお気に入り追加が可能（ログイン必須）。
